<table class="top-bar">
  <tr>
    <td class="top-bar__back" (click)="decreasePage()" matRipple [matRippleUnbounded]="false">
      <img src="assets/back.svg" class="top-bar__back-icon" />
      back
    </td>
    <td class="top-bar__center">
      <img src="assets/filament.svg" class="top-bar__center-icon" *ngIf="page === 0" />
      <div class="filament__progress-bar-wrapper" *ngIf="page > 0">
        <div class="filament__progress-bar" id="progressBar"></div>
      </div>
    </td>
    <td class="top-bar__next" (click)="increasePage()" matRipple [matRippleUnbounded]="false">
      skip
      <img src="assets/next.svg" class="top-bar__next-icon" />
    </td>
  </tr>
</table>

<div class="filament">
  <app-filament-choose (spoolChange)="setSpool($event)" *ngIf="page === 0"></app-filament-choose>
  <app-filament-heat-nozzle
    (increasePage)="increasePage()"
    [currentSpool]="currentSpool"
    [selectedSpool]="selectedSpool"
    *ngIf="page === 1"
  ></app-filament-heat-nozzle>
  <!--
  <div *ngIf="page === 2">
    <span class="filament-heading">unloading filament</span>
    <div class="filament__progress-bar-wrapper filament__progress-bar-wrapper-wide">
      <div class="filament__progress-bar" id="filamentUnloadBar"></div>
    </div>
    <span class="filament-move__speed">{{ getFeedSpeed() }} mm/s</span>
    <div class="filament-move__wrapper">
      <a class="filament-move__cancel" matRipple [matRippleUnbounded]="false" (click)="stopExtruderMovement()">stop</a>
    </div>
  </div>
  <div *ngIf="page === 3">
    <span class="filament-heading">load new filament</span>
    <span class="filament-move__speed">Only put a little filament in, I'll pull in the rest.</span>
    <div *ngIf="selectedSpool" style="margin-top: 15vh">
      <div class="filament-heating__information-color" [ngStyle]="{ 'background-color': selectedSpool.color }"></div>
      <span class="filament-heating__information-name">{{ selectedSpool.displayName }}</span>
    </div>
    <div *ngIf="!selectedSpool" style="margin-top: 15vh">
      <span class="filament-heating__information-name">I'll wait for you.</span>
    </div>
    <div class="filament-move__wrapper">
      <a class="filament__done" matRipple [matRippleUnbounded]="false" (click)="increasePage()">done</a>
    </div>
  </div>
  <div *ngIf="page === 4">
    <span class="filament-heading">loading filament</span>
    <div class="filament__progress-bar-wrapper filament__progress-bar-wrapper-wide">
      <div class="filament__progress-bar" style="width: 0" id="filamentLoadBar"></div>
    </div>
    <span class="filament-move__speed">{{ getFeedSpeed() }} mm/s</span>
    <div class="filament-move__wrapper">
      <a class="filament-move__cancel" matRipple [matRippleUnbounded]="false" click="stopExtruderMovement()">stop</a>
    </div>
  </div>
  <div *ngIf="page === 5">
    <span class="filament-heading">purging filament</span>
    <div class="filament-purge__amount">{{ purgeAmount }}mm</div>
    <div class="filament-move__wrapper">
      <a class="filament-purge__more" matRipple [matRippleUnbounded]="false" (click)="increasePurgeAmount(10)">+10mm</a>
      <a class="filament-purge__done" matRipple [matRippleUnbounded]="false" (click)="setSpoolSelection()">done</a>
    </div>
  </div> -->
</div>
